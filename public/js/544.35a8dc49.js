"use strict";(self["webpackChunkui"]=self["webpackChunkui"]||[]).push([[544],{9164:function(t,e,n){n.r(e),n.d(e,{default:function(){return lt}});var a=n(4108);const o={id:"transaction"},l={id:"transaction-ct"},i={id:"transaction-ct-container"},r={id:"transaction-tbl"},s={id:"transaction-tbl-container"};function c(t,e,n,c,d,u){const p=(0,a.E1)("TransactionChart"),h=(0,a.E1)("TransactionTable");return(0,a.Wz)(),(0,a.An)("main",o,[(0,a.QD)("div",l,[(0,a.QD)("div",i,[(0,a.K2)(p,{onSendTransaction:u.defineTransaction},null,8,["onSendTransaction"])])]),(0,a.QD)("div",r,[(0,a.QD)("div",s,[(0,a.K2)(h,{transactionFromChart:d.transactionToSet},null,8,["transactionFromChart"])])])])}var d=n(9096),u=n(7764);const p=t=>((0,a.ED)("data-v-4eb8183e"),t=t(),(0,a.ii)(),t),h={id:"transaction-chart"},m={id:"chart-setting"},f={id:"setting-input"},y={id:"set-period"},g=p((()=>(0,a.QD)("span",{class:"label"},"Period",-1))),v={id:"set-transaction"},D=p((()=>(0,a.QD)("span",{class:"label"},"Transaction",-1))),b=["value"],x={id:"set-button"},T=["src","alt"],S={id:"result-num"},k=p((()=>(0,a.QD)("span",null,"num:",-1))),A=p((()=>(0,a.QD)("div",{id:"chart-result"},[(0,a.QD)("div",{id:"chart-svg"})],-1)));function E(t,e,n,o,l,i){const r=(0,a.E1)("TransactionCalendar");return(0,a.Wz)(),(0,a.An)("div",h,[(0,a.QD)("div",m,[(0,a.QD)("div",f,[(0,a.QD)("div",y,[g,(0,a.K2)(r)]),(0,a.QD)("div",v,[D,(0,a.wt)((0,a.QD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.setTransaction=t)},[((0,a.Wz)(!0),(0,a.An)(a.ae,null,(0,a.mi)(this.transaction_list,((t,e)=>((0,a.Wz)(),(0,a.An)("option",{key:e,value:t},(0,d.WA)(t),9,b)))),128))],512),[[u.Ip,l.setTransaction]])]),(0,a.QD)("div",x,[(0,a.QD)("button",{onClick:e[1]||(e[1]=t=>i.getTransactionHistoryDataForChart())},[(0,a.QD)("img",{src:l.btn.img,alt:l.btn.fn},null,8,T)])])]),(0,a.QD)("div",S,[k,(0,a.mY)("Â "),(0,a.QD)("span",null,(0,d.WA)(l.data.length.toLocaleString()),1)])]),A])}const w=t=>((0,a.ED)("data-v-ba8c619c"),t=t(),(0,a.ii)(),t),C=w((()=>(0,a.QD)("span",{id:"dateFrom"},"2023.05.01",-1))),Q=w((()=>(0,a.QD)("span",null,"~",-1))),_=w((()=>(0,a.QD)("span",{id:"dateTo"},"2023.06.01",-1))),I=[C,Q,_];function q(t,e,n,o,l,i){return(0,a.Wz)(),(0,a.An)("div",{id:"period-select",onClick:e[0]||(e[0]=t=>i.activation())},I)}var F=n(7348);function B(){for(const t of document.querySelectorAll(".flatpickr-calendar"))t.style.background="#000",t.style.width=window.getComputedStyle(document.querySelector("#select-from")).width,t.style.height=window.getComputedStyle(document.querySelector("#select-from")).height;for(const t of document.querySelectorAll(".flatpickr-months"))t.style.height="15%";for(const t of document.querySelectorAll("select.flatpickr-monthDropdown-months"))t.style.color="white";for(const t of document.querySelectorAll("option.flatpickr-monthDropdown-month"))t.style.color="black";for(const t of document.querySelectorAll(".numInput.cur-year"))t.style.color="white";for(const t of document.querySelectorAll(".arrowUp"))t.style.background="white",t.style.top="10%";for(const t of document.querySelectorAll(".arrowDown"))t.style.background="white",t.style.top="60%";for(const t of document.querySelectorAll(".flatpickr-prev-month svg , .flatpickr-next-month svg"))t.style.fill="white";for(const t of document.querySelectorAll(".flatpickr-innerContainer"))t.style.height="85%";for(const t of document.querySelectorAll(".flatpickr-rContainer"))t.style.width="100%";for(const t of document.querySelectorAll(".flatpickr-weekdays"))t.style.height="16%";for(const t of document.querySelectorAll(".flatpickr-weekday"))t.style.color="white";for(const t of document.querySelectorAll(".flatpickr-days"))t.style.width="100%",t.style.height="84%";for(const t of document.querySelectorAll(".dayContainer"))t.style.minWidth="none",t.style.maxWidth="none",t.style.width="100%",t.style.height="calc(100% / 6)";for(const t of document.querySelectorAll(".flatpickr-day"))t.style.color="#797979",t.style.fontWeight="bold",t.style.height="100%",t.style.lineHeight="180%",t.style.maxWidth="none";for(const t of document.querySelectorAll(".flatpickr-disabled"))t.style.color="#393939",t.style.fontWeight="normal";for(const t of document.querySelectorAll(".flatpickr-day.nextMonthDay , .flatpickr-day.prevMonthDay"))t.style.fontWeight="normal";for(const t of document.querySelectorAll(".flatpickr-day.selected"))t.style.color="white",t.style.fontWeight="normal",t.style.background="darkgreen",t.style.borderColor="darkgreen"}var W={components:{flatPickr:F.c},data(){return{expansion:!1,date_from:null,config_from:{inline:!0,enableTime:!1,maxDate:"today",onYearChange:function(){B()},onMonthChange:function(){B()}},date_to:null,config_to:{inline:!0,enableTime:!1,minDate:null,maxDate:"today",onYearChange:function(){B()},onMonthChange:function(){B()}}}},created(){let t=new Date,e=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`;[this.date_from,this.date_to]=[e,e]},mounted(){B()},updated(){B()},watch:{date_from:function(t){this.config_to.minDate=t,this.$emit("setDateFrom",t)},date_to:function(t){this.$emit("setDateTo",t)}},methods:{activation:function(){this.expansion=!this.expansion,document.getElementById("period-select").style.position=this.expansion?"absolute":"relative",document.getElementById("period-select").style.marginLeft=this.expansion?"46px":"0px",document.getElementById("period-select").style.width=this.expansion?"400px":"180px"}}},$=n(4100);const M=(0,$.c)(W,[["render",q],["__scopeId","data-v-ba8c619c"]]);var z=M,H={components:{TransactionCalendar:z},data(){return{btn:{fn:"transactions",img:n(248)},data:[],setTransaction:"All",transaction_list:["All","Banking","Exchange","Trading","Deposit","Withdraw","Dividend","Exchange-Buy","Exchange-Sell","Buy","Sell"]}},methods:{getTransactionHistoryDataForChart:function(){let t="All"===this.setTransaction?"":this.setTransaction,e=document.getElementById("dateFrom").textContent.replaceAll(".","-"),n=document.getElementById("dateTo").textContent.replaceAll(".","-");this.$http.get("/getTransactionHistoryDataForChart",{params:{Transaction:t,DateFrom:e,DateTo:n}}).then((e=>{this.data=[],0!==e.data.length&&(this.data=e.data,this.$Scatter_Plot(e.data,"chart-svg"),this.$emit("sendTransaction",t))})).catch((t=>console.log(t))),document.getElementById("period-date-from").value="",document.getElementById("period-date-to").value=""}}};const L=(0,$.c)(H,[["render",E],["__scopeId","data-v-4eb8183e"]]);var P=L;const Y=t=>((0,a.ED)("data-v-5439d6ad"),t=t(),(0,a.ii)(),t),K={id:"transaction-table"},U={id:"table-info"},V=(0,a.IL)('<div id="tbl-period" data-v-5439d6ad><span class="label" data-v-5439d6ad>Period in detail</span><div id="period-result" data-v-5439d6ad><input type="text" readonly id="period-date-from" value="" data-v-5439d6ad><span style="color:#ffffff;margin:0 4px;font-size:13px;" data-v-5439d6ad>~</span><input type="text" readonly id="period-date-to" value="" data-v-5439d6ad></div></div>',1),j={id:"tbl-result"},G=Y((()=>(0,a.QD)("span",{class:"label"},"Expense in total",-1))),J={id:"expense-result"},N=["value"],O=Y((()=>(0,a.QD)("span",{style:{color:"#ffffff","margin-left":"2px","font-size":"13px"}},"(\\)",-1))),R={id:"table-result"},X=Y((()=>(0,a.QD)("div",{id:"table-canvas"},null,-1)));function Z(t,e,n,o,l,i){return(0,a.Wz)(),(0,a.An)("div",K,[(0,a.QD)("div",U,[V,(0,a.QD)("div",j,[G,(0,a.QD)("div",J,[(0,a.QD)("input",{type:"text",readonly:"",value:l.expenseTotal.toLocaleString()},null,8,N),O])])]),(0,a.QD)("div",R,[(0,a.QD)("button",{id:"createTblButton",style:{display:"none"},onClick:e[0]||(e[0]=t=>i.getTransactionHistoryDataForTable())}),X])])}var tt={props:["transactionFromChart"],data(){return{data:[],expenseTotal:0}},methods:{getTransactionHistoryDataForTable:function(){let t=this.transactionFromChart,e=this.$setExpense["expenseMin"],n=this.$setExpense["expenseMax"],a=document.getElementById("period-date-from").value.replaceAll(".","-"),o=document.getElementById("period-date-to").value.replaceAll(".","-");this.$http.get("/getTransactionHistoryDataForTable",{params:{Transaction:t,ExpenseMin:e,ExpenseMax:n,DateFrom:a,DateTo:o}}).then((l=>{this.data=[],0!==l.data.length&&(this.data=l.data,document.getElementById("table-canvas").nextSibling&&document.getElementById("table-canvas").nextSibling.remove(),this.$Create_Table(this.data,"table-result",getComputedStyle(document.getElementById("table-canvas")).width,getComputedStyle(document.getElementById("table-canvas")).height,!1),document.getElementById("table-canvas").nextSibling.style.position="absolute",this.getExpenseSumForTable(t,e,n,a,o))})).catch((t=>console.log(t)))},getExpenseSumForTable:function(t,e,n,a,o){this.$http.get("/getExpenseSumForTable",{params:{Transaction:t,ExpenseMin:e,ExpenseMax:n,DateFrom:a,DateTo:o}}).then((t=>this.expenseTotal=t.data[0].expense_sum)).catch((t=>console.log(t)))}}};const et=(0,$.c)(tt,[["render",Z],["__scopeId","data-v-5439d6ad"]]);var nt=et,at={components:{TransactionChart:P,TransactionTable:nt},data(){return{transactionToSet:""}},methods:{defineTransaction(t){this.transactionToSet=t}}};const ot=(0,$.c)(at,[["render",c],["__scopeId","data-v-b3c1cfbe"]]);var lt=ot},248:function(t,e,n){t.exports=n.p+"img/magnify_glass.09e6dcfe.png"}}]);
//# sourceMappingURL=544.35a8dc49.js.map