"use strict";(self["webpackChunkui"]=self["webpackChunkui"]||[]).push([[980],{6980:function(t,e,a){a.r(e),a.d(e,{default:function(){return It}});var n=a(4108);const o={id:"main-expense"},i={id:"expense-background"},r={id:"expense-chart"},s={id:"expense-detail"};function l(t,e,a,l,d,c){const h=(0,n.E1)("ExpenseChart"),p=(0,n.E1)("ExpenseTable"),u=(0,n.E1)("ExpenseDetailChart");return(0,n.Wz)(),(0,n.An)("main",o,[(0,n.QD)("div",i,[(0,n.QD)("div",r,[(0,n.K2)(h)]),(0,n.QD)("div",s,[(0,n.K2)(p),(0,n.K2)(u)])])])}var d=a(9096),c=a(7764);const h=t=>((0,n.ED)("data-v-c0bf2932"),t=t(),(0,n.ii)(),t),p={id:"component-expense-chart"},u={id:"chart-header"},m={id:"chart-setting"},D={id:"set-period"},f=h((()=>(0,n.QD)("span",{class:"label"},"Period",-1))),y={id:"select-period"},g={id:"date-from"},v=["value"],x=h((()=>(0,n.QD)("span",null," . ",-1))),b=["value"],$=h((()=>(0,n.QD)("span",null," . ",-1))),T=["value"],A=h((()=>(0,n.QD)("div",null," ~ ",-1))),Q={id:"date-to"},F=["value"],M=h((()=>(0,n.QD)("span",null," . ",-1))),k=["value"],w=h((()=>(0,n.QD)("span",null," . ",-1))),E=["value"],S={id:"set-transaction"},I=h((()=>(0,n.QD)("span",{class:"label"},"Transaction",-1))),Y=["value"],C={id:"set-button"},B=["src","alt"],W={id:"result-number"},z=h((()=>(0,n.QD)("span",null,"   /   ",-1))),_=h((()=>(0,n.QD)("div",{id:"chart-result"},[(0,n.QD)("div",{id:"chart-svg"})],-1)));function L(t,e,a,o,i,r){return(0,n.Wz)(),(0,n.An)("div",p,[(0,n.QD)("div",u,[(0,n.QD)("div",m,[(0,n.QD)("div",D,[f,(0,n.QD)("div",y,[(0,n.QD)("div",g,[(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.fromDate.Year=t)},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.fromYearRange,(t=>((0,n.Wz)(),(0,n.An)("option",{key:t,value:t},(0,d.WA)(t),9,v)))),128))],512),[[c.Ip,i.fromDate.Year]]),x,(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>i.fromDate.Month=t)},[((0,n.Wz)(),(0,n.An)(n.ae,null,(0,n.mi)(12,(t=>(0,n.QD)("option",{key:t,value:t},(0,d.WA)(t),9,b))),64))],512),[[c.Ip,i.fromDate.Month]]),$,(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>i.fromDate.Date=t)},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.fromDaysInMonth,(t=>((0,n.Wz)(),(0,n.An)("option",{key:t,value:t},(0,d.WA)(t),9,T)))),128))],512),[[c.Ip,i.fromDate.Date]])]),A,(0,n.QD)("div",Q,[(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>i.toDate.Year=t)},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.toYearRange,(t=>((0,n.Wz)(),(0,n.An)("option",{key:t,value:t},(0,d.WA)(t),9,F)))),128))],512),[[c.Ip,i.toDate.Year]]),M,(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>i.toDate.Month=t)},[((0,n.Wz)(),(0,n.An)(n.ae,null,(0,n.mi)(12,(t=>(0,n.QD)("option",{key:t,value:t},(0,d.WA)(t),9,k))),64))],512),[[c.Ip,i.toDate.Month]]),w,(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>i.toDate.Date=t)},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(r.toDaysInMonth,(t=>((0,n.Wz)(),(0,n.An)("option",{key:t,value:t},(0,d.WA)(t),9,E)))),128))],512),[[c.Ip,i.toDate.Date]])])])]),(0,n.QD)("div",S,[I,(0,n.wt)((0,n.QD)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>i.transactionType=t)},[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(this.transaction_list,((t,e)=>((0,n.Wz)(),(0,n.An)("option",{key:e,value:t},(0,d.WA)(t),9,Y)))),128))],512),[[c.Ip,i.transactionType]])]),(0,n.QD)("div",C,[(0,n.QD)("button",{onClick:e[7]||(e[7]=t=>r.func_setButtion())},[(0,n.QD)("img",{src:i.btn.img,alt:i.btn.fn},null,8,B)])])]),(0,n.QD)("div",W,[(0,n.QD)("span",null,"num: "+(0,d.WA)(i.data.length.toLocaleString()),1),z,(0,n.QD)("span",null,"expense in total: "+(0,d.WA)(Math.round(i.expenseInTotal).toLocaleString())+" (KRW)",1)])]),_])}var H={data(){return{btn:{fn:"search",img:a(5676)},data:[],startDate:{Year:0,Month:0,Date:0},endDate:{Year:0,Month:0,Date:0},fromDate:{Year:0,Month:0,Date:0},toDate:{Year:0,Month:0,Date:0},transactionType:"전체",transaction_list:[],expenseInTotal:0}},computed:{fromYearRange(){const t=(new Date).getFullYear();return Array.from({length:t-this.startDate.Year+1},((t,e)=>this.startDate.Year+e))},toYearRange(){const t=(new Date).getFullYear();return Array.from({length:t-this.startDate.Year+1},((t,e)=>this.startDate.Year+e))},fromDaysInMonth(){const t=new Date(this.fromDate.Year,this.fromDate.Month,0);return Array.from({length:t.getDate()},((t,e)=>e+1))},toDaysInMonth(){const t=new Date(this.toDate.Year,this.toDate.Month,0);return Array.from({length:t.getDate()},((t,e)=>e+1))}},mounted(){this.setInitDate(),this.$http.get("/getTransactionTypeList").then((t=>{this.transaction_list=t.data.map((t=>t.transaction_type)),this.transaction_type=this.transaction_list[0],this.getTransactionHistoryDataForChart()})).then((t=>{this.setSelectedPeriod(`${this.fromDate.Year}.${this.fromDate.Month}.${this.fromDate.Date} 0:00:00`,`${this.toDate.Year}.${this.toDate.Month}.${this.toDate.Date} 23:59:59`),this.updateTransactionConditionAndUpdateTable(`${this.fromDate.Year}-${this.fromDate.Month}-${this.fromDate.Date} 0:00:00`,`${this.toDate.Year}-${this.toDate.Month}-${this.toDate.Date} 23:59:59`,0,Number.MAX_SAFE_INTEGER,"")})).catch((t=>console.log(t)))},methods:{func_setButtion:function(){this.getTransactionHistoryDataForChart(),this.setSelectedPeriod(`${this.fromDate.Year}.${this.fromDate.Month}.${this.fromDate.Date} 0:00:00`,`${this.toDate.Year}.${this.toDate.Month}.${this.toDate.Date} 23:59:59`),this.updateTransactionConditionAndUpdateTable(`${this.fromDate.Year}-${this.fromDate.Month}-${this.fromDate.Date} 0:00:00`,`${this.toDate.Year}-${this.toDate.Month}-${this.toDate.Date} 23:59:59`,0,Number.MAX_SAFE_INTEGER,"전체"===this.transactionType?"":this.transactionType)},setInitDate:function(){this.$http.get("/getTransactionFirstDay").then((t=>{this.startDate={Year:t.data.Year,Month:t.data.Month,Date:t.data.Date}})).catch((t=>console.log(t)));const t=new Date,e=new Date;e.setDate(t.getDate()-364),this.fromDate={Year:e.getFullYear(),Month:e.getMonth()+1,Date:e.getDate()},this.toDate={Year:t.getFullYear(),Month:t.getMonth()+1,Date:t.getDate()},this.endDate={Year:t.getFullYear(),Month:t.getMonth()+1,Date:t.getDate()}},getTransactionHistoryDataForChart:function(){let t="전체"===this.transactionType?"":this.transactionType,e=`${this.fromDate.Year}-${String(this.fromDate.Month).padStart(2,"0")}-${String(this.fromDate.Date).padStart(2,"0")}`,a=`${this.toDate.Year}-${String(this.toDate.Month).padStart(2,"0")}-${String(this.toDate.Date).padStart(2,"0")}`,[n,o]=[new Date(e),new Date(a)];n>o&&(e=`${this.startDate.Year}-${String(this.startDate.Month).padStart(2,"0")}-${String(this.startDate.Date).padStart(2,"0")}`,a=`${this.endDate.Year}-${String(this.endDate.Month).padStart(2,"0")}-${String(this.endDate.Date).padStart(2,"0")}`),this.$http.get("/getTransactionHistoryDataForChart",{params:{Transaction:t,DateFrom:e,DateTo:a}}).then((t=>{this.data=t.data,this.setScatterPlotChart([e,a],t.data,"chart-svg"),this.expenseInTotal=this.data.reduce(((t,e)=>t+e.Expense),0)})).catch((t=>console.log(t)))},setSelectedPeriod:function(t,e){document.getElementById("period-date-from").value=t,document.getElementById("period-date-to").value=e},updateTransactionConditionAndUpdateTable:function(t,e,a,n,o){this.$store.commit("updateTransactionCondition",{dateFrom:t,dateTo:e,expenseMin:a,expenseMax:n,transactionType:o}),setTimeout((()=>{document.getElementById("createTblButton").click(),document.getElementById("createDetailFrequencyChartButton").click(),document.getElementById("createDetailAmountChartButton").click()}),100)},setScatterPlotChart:function(t,e,a){document.getElementById(a).hasChildNodes()&&document.getElementById(a).querySelector("svg").remove();const n=window.getComputedStyle(document.getElementById(a)).width.replace("px",""),o=window.getComputedStyle(document.getElementById(a)).height.replace("px",""),i={Top:10,Right:20,Bottom:30,Left:20},r=d3.select(`#${a}`).append("svg").attr("width",n).attr("height",o).append("g").attr("transform",`translate(${i.Left}, ${i.Top})`),s=d3.scaleUtc().domain([new Date(t[0]).setHours(0,0,0,0),new Date(t[1]).setHours(23,59,59,999)]).range([i.Left,n-(i.Left+i.Right)]);r.append("g").attr("class","xAxis").attr("transform",`translate(0, ${o-i.Bottom})`).attr("color","#333232").attr("stroke","#b8b8b8").call(d3.axisBottom(s).ticks(6).tickSizeInner(0).tickSizeOuter(0));const l=d3.scaleLinear().domain([0,d3.max(e,(t=>t["Expense"]))]).range([o-i.Bottom,i.Top]);r.append("g").attr("class","yAxis").attr("transform",`translate(${i.Left}, 0)`).attr("color","#333232").attr("stroke","#b8b8b8").call(d3.axisLeft(l).ticks(5).tickSizeInner(0).tickSizeOuter(0));r.append("g").selectAll("circle").data(e).join("circle").attr("transform",(t=>`translate(${s(new Date(t["Date"]))},${l(t["Expense"])})`)).attr("r",2.2).attr("fill","none").attr("stroke",(t=>t["Color"])).attr("stroke-width",1.8);const d=this;r.call(d3.brush().extent([[i.Left,i.Top],[n-(i.Right+i.Left),o-i.Bottom]]).on("end",(function(){let t=d3.brushSelection(this);if(null!==t){let e=new Date(s.invert(t[0][0])).toLocaleString("ja-JP"),a=l.invert(t[0][1]),n=new Date(s.invert(t[1][0])).toLocaleString("ja-JP"),o=l.invert(t[1][1]);d.setSelectedPeriod(e.replaceAll("/","."),n.replaceAll("/",".")),d.updateTransactionConditionAndUpdateTable(e.replaceAll("/","-"),n.replaceAll("/","-"),o,a,"전체"===d.transactionType?"":d.transactionType)}}))),d3.select("rect.selection").attr("fill","#56ae77").attr("fill-opacity",.2).attr("stroke","#41915f")}}},P=a(4100);const U=(0,P.c)(H,[["render",L],["__scopeId","data-v-c0bf2932"]]);var q=U;const K=t=>((0,n.ED)("data-v-f3025f2e"),t=t(),(0,n.ii)(),t),R={id:"component-expense-table"},N={id:"table-info"},j=(0,n.IL)('<div id="tbl-period" data-v-f3025f2e><span class="label" data-v-f3025f2e>Selected Period</span><div id="period-result" data-v-f3025f2e><input type="text" readonly id="period-date-from" value="" data-v-f3025f2e><span style="color:#ffffff;margin:0 4px;font-size:13px;" data-v-f3025f2e>~</span><input type="text" readonly id="period-date-to" value="" data-v-f3025f2e></div></div>',1),V={id:"tbl-result"},X=K((()=>(0,n.QD)("span",{class:"label"},"Expense",-1))),O={id:"expense-result"},G=["value"],J=K((()=>(0,n.QD)("span",{style:{color:"#ffffff","margin-left":"2px","font-size":"13px"}},"(KRW)",-1))),Z={id:"table-result"},tt={id:"table-transaction-list"},et=K((()=>(0,n.QD)("div",{id:"list-header"},[(0,n.QD)("div",null,[(0,n.QD)("span",null,"Date")]),(0,n.QD)("div",null,[(0,n.QD)("span",null,"Transaction")]),(0,n.QD)("div",null,[(0,n.QD)("span",null,"Expense")])],-1))),at={id:"list-body"};function nt(t,e,a,o,i,r){return(0,n.Wz)(),(0,n.An)("div",R,[(0,n.QD)("div",N,[j,(0,n.QD)("div",V,[X,(0,n.QD)("div",O,[(0,n.QD)("input",{type:"text",readonly:"",value:i.expenseTotal.toLocaleString()},null,8,G),(0,n.mY)("  "),J])])]),(0,n.QD)("div",Z,[(0,n.QD)("button",{id:"createTblButton",style:{display:"none"},onClick:e[0]||(e[0]=t=>r.getTransactionHistoryDataForTable())}),(0,n.QD)("div",tt,[et,(0,n.QD)("div",at,[(0,n.QD)("ul",null,[((0,n.Wz)(!0),(0,n.An)(n.ae,null,(0,n.mi)(i.data,((t,e)=>((0,n.Wz)(),(0,n.An)("li",{key:e},[(0,n.QD)("div",null,[(0,n.QD)("span",null,(0,d.WA)(r.convertToKST(t.Date)),1)]),(0,n.QD)("div",null,[(0,n.QD)("span",null,(0,d.WA)(t.Transaction),1)]),(0,n.QD)("div",null,[(0,n.QD)("span",null,(0,d.WA)(Number(t.Expense).toLocaleString()),1)])])))),128))])])])])])}var ot={data(){return{data:[],expenseTotal:0}},mounted(){this.setTableMaxHeight(),window.addEventListener("resize",this.setTableMaxHeight)},beforeUnmount(){window.removeEventListener("resize",this.setTableMaxHeight)},methods:{setTableMaxHeight:function(){const t=parseFloat(document.getElementById("detail-chart-canvas").getBoundingClientRect().height);document.getElementById("table-transaction-list").style.maxHeight=`${t}px`},getTransactionHistoryDataForTable:function(){this.$http.get("/getTransactionHistoryDataForTable",{params:{ExpenseMin:this.$store.state.expenseMin,ExpenseMax:this.$store.state.expenseMax,DateFrom:this.$store.state.dateFrom,DateTo:this.$store.state.dateTo,TransactionType:this.$store.state.transactionType}}).then((t=>{this.data=[],0!==t.data.length&&([this.data,this.expenseTotal]=[t.data.data,t.data.expenseTotal])})).catch((t=>console.log(t)))},convertToKST:function(t){const e=new Date(t),a=new Date(e.getTime()+324e5);return a.toISOString().slice(0,19).replace("T"," ")}}};const it=(0,P.c)(ot,[["render",nt],["__scopeId","data-v-f3025f2e"]]);var rt=it;const st=t=>((0,n.ED)("data-v-0f506c34"),t=t(),(0,n.ii)(),t),lt={id:"component-expense-detail-chart"},dt=st((()=>(0,n.QD)("div",{id:"detail-chart-blank"},null,-1))),ct={id:"detail-chart-result"},ht={id:"detail-chart-canvas"},pt={id:"frequency-chart-svg"},ut={id:"amount-chart-svg"};function mt(t,e,a,o,i,r){const s=(0,n.E1)("FrequencyChart"),l=(0,n.E1)("AmountChart");return(0,n.Wz)(),(0,n.An)("div",lt,[dt,(0,n.QD)("div",ct,[(0,n.QD)("div",ht,[(0,n.QD)("div",pt,[(0,n.K2)(s)]),(0,n.QD)("div",ut,[(0,n.K2)(l)])])])])}const Dt={id:"expense-frequency-chart"},ft=["id"];function yt(t,e,a,o,i,r){return(0,n.Wz)(),(0,n.An)("div",Dt,[(0,n.QD)("button",{id:"createDetailFrequencyChartButton",style:{display:"none"},onClick:e[0]||(e[0]=t=>r.getTransactionHistoryDataForDetailFrequencyChart())}),(0,n.QD)("div",{id:i.chartPart},null,8,ft)])}var gt={data(){return{data:[],chartPart:"detail-frequency-chart"}},methods:{getTransactionHistoryDataForDetailFrequencyChart:function(){this.$http.get("/getTransactionHistoryDataForDetailFrequencyChart",{params:{ExpenseMin:this.$store.state.expenseMin,ExpenseMax:this.$store.state.expenseMax,DateFrom:this.$store.state.dateFrom,DateTo:this.$store.state.dateTo}}).then((t=>{if(this.data=[],0!==t.data.length){const e=Object.entries(t.data[0]).map((([t,e])=>({type:t,value:e})));switch(this.$store.state.transactionType){case"매수":this.data=e.filter((t=>"매수"===t.type));break;case"매도":this.data=e.filter((t=>"매도"===t.type));break;case"입금":this.data=e.filter((t=>"입금"===t.type));break;case"출금":this.data=e.filter((t=>"출금"===t.type));break;case"배당":this.data=e.filter((t=>"배당"===t.type));break;case"매매":this.data=e.filter((t=>["매수","매도"].includes(t.type)));break;case"입출금":this.data=e.filter((t=>["입금","출금"].includes(t.type)));break;default:this.data=e}}})).then((t=>{const e=document.querySelector(`#${this.chartPart} svg`);e&&e.remove();const a=document.getElementById(this.chartPart).offsetWidth,n=document.getElementById(this.chartPart).offsetHeight,o={top:24,right:20,bottom:30,left:44},i=d3.select("#"+this.chartPart).append("svg").attr("width",a).attr("height",n).append("g").attr("transform",`translate(${0*a}, ${0*n})`),r=d3.scaleBand().domain(this.data.map((t=>t.type))).range([o.left,a-o.right]).padding(.1),s=d3.scaleLinear().domain([0,d3.max(this.data,(t=>1.2*t.value))]).nice().range([n-o.bottom,o.top]);d3.selectAll(".frequency-chart-tooltip").remove();const l=d3.select("body").append("div").attr("class","frequency-chart-tooltip").style("position","absolute").style("background","#333").style("color","#fff").style("padding","6px 10px").style("border-radius","4px").style("font-size","12px").style("font-family","Tahoma").style("pointer-events","none").style("opacity",0);i.selectAll(".bar").data(this.data).join("rect").attr("fill","red").attr("fill",(t=>"매수"===t.type?"#106ec8":"매도"===t.type?"#049bd9":"입금"===t.type?"#09d0dc":"출금"===t.type?"#14dea5":"배당"===t.type?"#7ecc66":void 0)).attr("class","bar").attr("x",(t=>r(t.type))).attr("y",(t=>s(t.value))).attr("width",.75*r.bandwidth()).attr("height",(t=>s(0)-s(t.value))).attr("transform",`translate(${.125*r.bandwidth()},0)`).on("mouseover",((t,e)=>{l.transition().duration(200).style("opacity",.95),l.html(new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e.value))})).on("mousemove",(t=>{l.style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")})).on("mouseout",(()=>{l.transition().duration(300).style("opacity",0)})),i.append("g").attr("transform",`translate(0,${n-o.bottom})`).call(d3.axisBottom(r)).attr("class","x-axis").selectAll("text").attr("font-family","Tahoma").attr("fill","#e2e2e2").attr("opacity",.9),i.append("g").attr("transform",`translate(${o.left},0)`).call(d3.axisLeft(s).ticks(3).tickFormat((t=>t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t))).attr("class","y-axis").selectAll("text").attr("fill","#e2e2e2").attr("opacity",.9),i.selectAll(".x-axis path, .x-axis .tick line, .y-axis path, .y-axis .tick line").attr("stroke","#e2e2e2").attr("opacity",.6),i.selectAll(".label").data(this.data).join("text").attr("class","label").attr("x",(t=>r(t.type)+r.bandwidth()/2)).attr("y",(t=>s(t.value)-6)).attr("text-anchor","middle").style("fill","white").style("font-family","Tahoma").style("font-weight","400").style("font-size","13px").text((t=>t.value>=1e9?(t.value/1e9).toFixed(1).replace(/\.0$/,"")+"B":t.value>=1e6?(t.value/1e6).toFixed(1).replace(/\.0$/,"")+"M":t.value>=1e3?(t.value/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.value)).on("mouseover",((t,e)=>{l.transition().duration(200).style("opacity",.95),l.html(new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e.value))})).on("mousemove",(t=>{l.style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")})).on("mouseout",(()=>{l.transition().duration(300).style("opacity",0)}))})).catch((t=>console.log(t)))}}};const vt=(0,P.c)(gt,[["render",yt],["__scopeId","data-v-3b25c24c"]]);var xt=vt;const bt={id:"expense-amount-chart"},$t=["id"];function Tt(t,e,a,o,i,r){return(0,n.Wz)(),(0,n.An)("div",bt,[(0,n.QD)("button",{id:"createDetailAmountChartButton",style:{display:"none"},onClick:e[0]||(e[0]=t=>r.getTransactionHistoryDataForDetailAmountChart())}),(0,n.QD)("div",{id:i.chartPart},null,8,$t)])}var At={data(){return{data:[],chartPart:"detail-amount-chart"}},methods:{getTransactionHistoryDataForDetailAmountChart:function(){this.$http.get("/getTransactionHistoryDataForDetailAmountChart",{params:{ExpenseMin:this.$store.state.expenseMin,ExpenseMax:this.$store.state.expenseMax,DateFrom:this.$store.state.dateFrom,DateTo:this.$store.state.dateTo}}).then((t=>{if(this.data=[],0!==t.data.length){const e=Object.entries(t.data[0]).map((([t,e])=>({type:t,value:e})));switch(this.$store.state.transactionType){case"매수":this.data=e.filter((t=>"매수"===t.type));break;case"매도":this.data=e.filter((t=>"매도"===t.type));break;case"입금":this.data=e.filter((t=>"입금"===t.type));break;case"출금":this.data=e.filter((t=>"출금"===t.type));break;case"배당":this.data=e.filter((t=>"배당"===t.type));break;case"매매":this.data=e.filter((t=>["매수","매도"].includes(t.type)));break;case"입출금":this.data=e.filter((t=>["입금","출금"].includes(t.type)));break;default:this.data=e}}})).then((t=>{const e=document.querySelector(`#${this.chartPart} svg`);e&&e.remove();const a=document.getElementById(this.chartPart).offsetWidth,n=document.getElementById(this.chartPart).offsetHeight,o={top:24,right:20,bottom:30,left:44},i=d3.select("#"+this.chartPart).append("svg").attr("width",a).attr("height",n).append("g").attr("transform",`translate(${0*a}, ${0*n})`),r=d3.scaleBand().domain(this.data.map((t=>t.type))).range([o.left,a-o.right]).padding(.1),s=d3.scaleLinear().domain([0,d3.max(this.data,(t=>1.2*t.value))]).nice().range([n-o.bottom,o.top]);d3.selectAll(".amount-chart-tooltip").remove();const l=d3.select("body").append("div").attr("class","amount-chart-tooltip").style("position","absolute").style("background","#333").style("color","#fff").style("padding","6px 10px").style("border-radius","4px").style("font-size","12px").style("font-family","Tahoma").style("pointer-events","none").style("opacity",0);i.selectAll(".bar").data(this.data).join("rect").attr("fill","red").attr("fill",(t=>"매수"===t.type?"#106ec8":"매도"===t.type?"#049bd9":"입금"===t.type?"#09d0dc":"출금"===t.type?"#14dea5":"배당"===t.type?"#7ecc66":void 0)).attr("class","bar").attr("x",(t=>r(t.type))).attr("y",(t=>s(t.value))).attr("width",.75*r.bandwidth()).attr("height",(t=>s(0)-s(t.value))).attr("transform",`translate(${.125*r.bandwidth()},0)`).on("mouseover",((t,e)=>{l.transition().duration(200).style("opacity",.95),l.html(new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e.value))})).on("mousemove",(t=>{l.style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")})).on("mouseout",(()=>{l.transition().duration(300).style("opacity",0)})),i.append("g").attr("transform",`translate(0,${n-o.bottom})`).call(d3.axisBottom(r)).attr("class","x-axis").selectAll("text").attr("font-family","Tahoma").attr("fill","#e2e2e2").attr("opacity",.9),i.append("g").attr("transform",`translate(${o.left},0)`).call(d3.axisLeft(s).ticks(3).tickFormat((t=>t>=1e9?(t/1e9).toFixed(1).replace(/\.0$/,"")+"B":t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"K":t))).attr("class","y-axis").selectAll("text").attr("fill","#e2e2e2").attr("opacity",.9),i.selectAll(".x-axis path, .x-axis .tick line, .y-axis path, .y-axis .tick line").attr("stroke","#e2e2e2").attr("opacity",.6),i.selectAll(".label").data(this.data).join("text").attr("class","label").attr("x",(t=>r(t.type)+r.bandwidth()/2)).attr("y",(t=>s(t.value)-6)).attr("text-anchor","middle").style("fill","white").style("font-family","Tahoma").style("font-weight","400").style("font-size","13px").text((t=>t.value>=1e9?(t.value/1e9).toFixed(1).replace(/\.0$/,"")+"B":t.value>=1e6?(t.value/1e6).toFixed(1).replace(/\.0$/,"")+"M":t.value>=1e3?(t.value/1e3).toFixed(1).replace(/\.0$/,"")+"K":t.value)).on("mouseover",((t,e)=>{l.transition().duration(200).style("opacity",.95),l.html(new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e.value))})).on("mousemove",(t=>{l.style("left",t.pageX+10+"px").style("top",t.pageY-28+"px")})).on("mouseout",(()=>{l.transition().duration(300).style("opacity",0)}))})).catch((t=>console.log(t)))}}};const Qt=(0,P.c)(At,[["render",Tt],["__scopeId","data-v-1be868d4"]]);var Ft=Qt,Mt={components:{FrequencyChart:xt,AmountChart:Ft},data(){return{data:[]}},mounted(){},methods:{}};const kt=(0,P.c)(Mt,[["render",mt],["__scopeId","data-v-0f506c34"]]);var wt=kt,Et={components:{ExpenseChart:q,ExpenseTable:rt,ExpenseDetailChart:wt},data(){return{}},methods:{}};const St=(0,P.c)(Et,[["render",l],["__scopeId","data-v-c1a8411a"]]);var It=St},5676:function(t,e,a){t.exports=a.p+"img/magnify_glass.09e6dcfe.png"}}]);
//# sourceMappingURL=980.44c9a0bb.js.map